<!DOCTYPE html>
<html>
<head></head>
<body>
<p>Hello World!</p>

<!-- The buttons that call the drawCard function -->
<button onclick="drawCard('1')" type="button" id="player1DrawCard">Player 1 \n Draw a Card!</button>
<button onclick="drawCard('2')" type="button" disabled id="player2DrawCard">Player 2 \n Draw a Card!</button>

<!-- The text that changes when drawCard is called -->
<p id="devTestCard">Your card!</p>

<!-- JavaScript responsible for displaying the new card after it has been drawn 
using a GET request to the server-->
<script type="text/javascript">

	function drawCard(playerId) {
		//Send the request
		const url = 'http://localhost:8080/drawCard/1/' + playerId;
		const Http = new XMLHttpRequest();
		Http.responseType = 'json';
		Http.open("GET", url);		
		Http.send();
		document.getElementById("player" + playerId + "DrawCard").disabled = true;

		if (playerId == '1') {
			document.getElementById("player" + 2 + "DrawCard").disabled = false;
		} else {
			document.getElementById("player" + 1 + "DrawCard").disabled = false;
		}

		//Act on the data received from the request
		Http.onload = function() {
			const data =  Http.response;
			console.log("Data from GET request at: " + url + ":\n" + JSON.stringify(data));
			document.getElementById("devTestCard").innerHTML = data.name;
		}

	}
</script>

</body>
</html>